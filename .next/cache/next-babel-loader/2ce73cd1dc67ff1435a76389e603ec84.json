{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\malac\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\My Stuff\\\\Programming\\\\My Projects\\\\shopping-list\\\\frontend\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { getItems, getUrgentItems } from '../actions/item';\nimport ItemCard from '../components/item/ItemCard';\nimport { getCookie } from '../actions/auth';\nimport { useState, useEffect } from 'react';\nimport Search from './item/Search';\n\nvar Main = function Main() {\n  _s();\n\n  var _useState = useState([]),\n      items = _useState[0],\n      setItems = _useState[1];\n\n  var _useState2 = useState([]),\n      urgentItems = _useState2[0],\n      setUrgentItems = _useState2[1];\n\n  var _useState3 = useState(false),\n      sortUrgent = _useState3[0],\n      setSortUrgent = _useState3[1];\n\n  useEffect(function () {\n    initItems();\n  }, []);\n\n  var initItems = function initItems() {\n    var token = getCookie('token');\n    getItems(token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setItems(data);\n      }\n    });\n    getUrgentItems(token).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setUrgentItems(data);\n      }\n    });\n  };\n\n  var showItems = function showItems() {\n    if (sortUrgent) {\n      return urgentItems.map(function (item) {\n        return __jsx(\"article\", {\n          key: item._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 21\n          }\n        }, __jsx(ItemCard, {\n          item: item,\n          updateParent: updateUrgentItemsState,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 25\n          }\n        }));\n      });\n    } else {\n      return items.map(function (item) {\n        return __jsx(\"article\", {\n          key: item._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 21\n          }\n        }, __jsx(ItemCard, {\n          item: item,\n          updateParent: updateItemsState,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }\n        }));\n      });\n    }\n  };\n\n  var handleUrgentToggle = function handleUrgentToggle() {\n    setSortUrgent(document.getElementById(\"sort-urgent\").checked);\n  };\n\n  var updateItemsState = function updateItemsState(item) {\n    var i = items.indexOf(item);\n    setItems(items.filter(function (current, index) {\n      if (index === i) {\n        return false;\n      } else {\n        return true;\n      }\n    }));\n  };\n\n  var updateUrgentItemsState = function updateUrgentItemsState(item) {\n    var i = urgentItems.indexOf(item);\n    setUrgentItems(urgentItems.filter(function (current, index) {\n      if (index === i) {\n        return false;\n      } else {\n        return true;\n      }\n    }));\n  };\n\n  return __jsx(\"div\", {\n    className: \"main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"main__title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 25\n    }\n  }, \"Shopping List\")), __jsx(\"div\", {\n    className: \"row\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 21\n    }\n  }, __jsx(Search, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }), __jsx(\"label\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    id: \"sort-urgent\",\n    type: \"checkbox\",\n    onChange: handleUrgentToggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }), __jsx(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }, \"Sort Urgent\")))), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    className: \"main__body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 13\n    }\n  }, showItems()));\n};\n\n_s(Main, \"oVIImmZ0RUAQmMwbln+rDPx2mF0=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["C:/Users/malac/OneDrive/שולחן העבודה/My Stuff/Programming/My Projects/shopping-list/frontend/components/Main.js"],"names":["getItems","getUrgentItems","ItemCard","getCookie","useState","useEffect","Search","Main","items","setItems","urgentItems","setUrgentItems","sortUrgent","setSortUrgent","initItems","token","then","data","error","console","log","showItems","map","item","_id","updateUrgentItemsState","updateItemsState","handleUrgentToggle","document","getElementById","checked","i","indexOf","filter","current","index"],"mappings":";;;;;;AAAA,SAASA,QAAT,EAAmBC,cAAnB,QAAyC,iBAAzC;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,eAAnB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA;;AAAA,kBAEWH,QAAQ,CAAC,EAAD,CAFnB;AAAA,MAERI,KAFQ;AAAA,MAEDC,QAFC;;AAAA,mBAGuBL,QAAQ,CAAC,EAAD,CAH/B;AAAA,MAGRM,WAHQ;AAAA,MAGKC,cAHL;;AAAA,mBAIqBP,QAAQ,CAAC,KAAD,CAJ7B;AAAA,MAIRQ,UAJQ;AAAA,MAIIC,aAJJ;;AAMfR,EAAAA,SAAS,CAAC,YAAM;AACZS,IAAAA,SAAS;AACZ,GAFQ,EAEN,EAFM,CAAT;;AAIA,MAAMA,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,QAAMC,KAAK,GAAGZ,SAAS,CAAC,OAAD,CAAvB;AACAH,IAAAA,QAAQ,CAACe,KAAD,CAAR,CAAgBC,IAAhB,CAAqB,UAAAC,IAAI,EAAI;AACzB,UAAGA,IAAI,CAACC,KAAR,EAAe;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACH,OAFD,MAEO;AACHT,QAAAA,QAAQ,CAACQ,IAAD,CAAR;AACH;AACJ,KAND;AAOAhB,IAAAA,cAAc,CAACc,KAAD,CAAd,CAAsBC,IAAtB,CAA2B,UAAAC,IAAI,EAAI;AAC/B,UAAGA,IAAI,CAACC,KAAR,EAAe;AACXC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB;AACH,OAFD,MAEO;AACHP,QAAAA,cAAc,CAACM,IAAD,CAAd;AACH;AACJ,KAND;AAOH,GAhBD;;AAmBA,MAAMI,SAAS,GAAG,SAAZA,SAAY,GAAM;AACpB,QAAGT,UAAH,EAAe;AACX,aAAOF,WAAW,CAACY,GAAZ,CAAgB,UAACC,IAAD,EAAU;AAC7B,eACI;AAAS,UAAA,GAAG,EAAEA,IAAI,CAACC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,QAAD;AAAU,UAAA,IAAI,EAAED,IAAhB;AAAsB,UAAA,YAAY,EAAEE,sBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAKH,OANM,CAAP;AAOH,KARD,MAQO;AACH,aAAOjB,KAAK,CAACc,GAAN,CAAU,UAACC,IAAD,EAAU;AACvB,eACI;AAAS,UAAA,GAAG,EAAEA,IAAI,CAACC,GAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,MAAC,QAAD;AAAU,UAAA,IAAI,EAAED,IAAhB;AAAsB,UAAA,YAAY,EAAEG,gBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ;AAKH,OANM,CAAP;AAOH;AACJ,GAlBD;;AAoBA,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,GAAM;AAC7Bd,IAAAA,aAAa,CAACe,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuCC,OAAxC,CAAb;AACH,GAFD;;AAIA,MAAMJ,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAAH,IAAI,EAAI;AAC7B,QAAMQ,CAAC,GAAGvB,KAAK,CAACwB,OAAN,CAAcT,IAAd,CAAV;AACAd,IAAAA,QAAQ,CAACD,KAAK,CAACyB,MAAN,CAAa,UAACC,OAAD,EAAUC,KAAV,EAAoB;AACtC,UAAIA,KAAK,KAAKJ,CAAd,EAAiB;AACb,eAAO,KAAP;AACH,OAFD,MAEO;AACH,eAAO,IAAP;AACH;AACJ,KANQ,CAAD,CAAR;AAOH,GATD;;AAWA,MAAMN,sBAAsB,GAAG,SAAzBA,sBAAyB,CAAAF,IAAI,EAAI;AACnC,QAAMQ,CAAC,GAAGrB,WAAW,CAACsB,OAAZ,CAAoBT,IAApB,CAAV;AACAZ,IAAAA,cAAc,CAACD,WAAW,CAACuB,MAAZ,CAAmB,UAACC,OAAD,EAAUC,KAAV,EAAoB;AAClD,UAAIA,KAAK,KAAKJ,CAAd,EAAiB;AACb,eAAO,KAAP;AACH,OAFD,MAEO;AACH,eAAO,IAAP;AACH;AACJ,KANc,CAAD,CAAd;AAOH,GATD;;AAaA,SACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADJ,CADJ,EAII;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,EAAE,EAAC,aAAV;AAAwB,IAAA,IAAI,EAAC,UAA7B;AAAwC,IAAA,QAAQ,EAAEJ,kBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAFJ,CAFJ,CAJJ,CADJ,EAaI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbJ,CADJ,EAgBI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKN,SAAS,EADd,CAhBJ,CADJ;AAsBH,CAnGD;;GAAMd,I;;KAAAA,I;AAsGN,eAAeA,IAAf","sourcesContent":["import { getItems, getUrgentItems } from '../actions/item';\r\nimport ItemCard from '../components/item/ItemCard';\r\nimport { getCookie } from '../actions/auth';\r\nimport { useState, useEffect } from 'react';\r\nimport Search from './item/Search';\r\n\r\nconst Main = () => {\r\n\r\n    const [items, setItems] = useState([]);\r\n    const [urgentItems, setUrgentItems] = useState([]);\r\n    const [sortUrgent, setSortUrgent] = useState(false);\r\n\r\n    useEffect(() => {\r\n        initItems();\r\n    }, []);\r\n\r\n    const initItems = () => {\r\n        const token = getCookie('token');\r\n        getItems(token).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error);\r\n            } else {\r\n                setItems(data);\r\n            }\r\n        });\r\n        getUrgentItems(token).then(data => {\r\n            if(data.error) {\r\n                console.log(data.error)\r\n            } else {\r\n                setUrgentItems(data);\r\n            }\r\n        });\r\n    };\r\n\r\n\r\n    const showItems = () => {\r\n        if(sortUrgent) {\r\n            return urgentItems.map((item) => {\r\n                return (\r\n                    <article key={item._id}>\r\n                        <ItemCard item={item} updateParent={updateUrgentItemsState}/>\r\n                    </article>\r\n                );\r\n            });\r\n        } else {\r\n            return items.map((item) => {\r\n                return (\r\n                    <article key={item._id}>\r\n                        <ItemCard item={item} updateParent={updateItemsState}/>\r\n                    </article>\r\n                );\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleUrgentToggle = () => {\r\n        setSortUrgent(document.getElementById(\"sort-urgent\").checked);\r\n    };\r\n\r\n    const updateItemsState = item => {\r\n        const i = items.indexOf(item);\r\n        setItems(items.filter((current, index) => {\r\n            if (index === i) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }));\r\n    };\r\n\r\n    const updateUrgentItemsState = item => {\r\n        const i = urgentItems.indexOf(item);\r\n        setUrgentItems(urgentItems.filter((current, index) => {\r\n            if (index === i) {\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }));\r\n    };\r\n  \r\n  \r\n\r\n    return (\r\n        <div className='main'>\r\n            <div className='main__title'>\r\n                <div>\r\n                    <div className='text-center'>\r\n                        <h2>Shopping List</h2>\r\n                    </div>\r\n                    <div className='row'>\r\n                        <Search />\r\n                        <label>\r\n                            <input id='sort-urgent' type='checkbox' onChange={handleUrgentToggle}/>\r\n                            <span>Sort Urgent</span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                <hr />\r\n            </div>\r\n            <div className='main__body'>\r\n                {showItems()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}