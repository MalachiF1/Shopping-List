{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\malac\\\\OneDrive\\\\\\u05E9\\u05D5\\u05DC\\u05D7\\u05DF \\u05D4\\u05E2\\u05D1\\u05D5\\u05D3\\u05D4\\\\My Stuff\\\\Programming\\\\My Projects\\\\shopping-list\\\\frontend\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { getItems, getUrgentItems } from '../actions/item';\nimport ItemCard from '../components/item/ItemCard';\nimport { getCookie } from '../actions/auth';\nimport { useState, useEffect } from 'react';\nimport Search from './item/Search';\nimport item from '../../backend/models/item';\nimport Checkbox from 'rc-checkbox';\nimport eventHub from '../helpers/eventHub';\n\nvar Main = function Main() {\n  _s();\n\n  var _useState = useState(''),\n      token = _useState[0],\n      setToken = _useState[1];\n\n  var _useState2 = useState([]),\n      items = _useState2[0],\n      setItems = _useState2[1];\n\n  var _useState3 = useState([]),\n      urgentItems = _useState3[0],\n      setUrgentItems = _useState3[1];\n\n  var _useState4 = useState([]),\n      searchedItems = _useState4[0],\n      setSearchedItems = _useState4[1];\n\n  var _useState5 = useState(false),\n      sortUrgent = _useState5[0],\n      setSortUrgent = _useState5[1];\n\n  var _useState6 = useState(false),\n      sortSearched = _useState6[0],\n      setSortSearched = _useState6[1];\n\n  var firstTime = true;\n  useEffect(function () {\n    initItems();\n\n    if (firstTime) {\n      eventHub.on('itemAdded', function () {\n        initItems();\n      });\n      firstTime = false;\n    }\n  }, []);\n\n  var initItems = function initItems() {\n    getCookie('token').then(function (tok) {\n      setToken(tok);\n      getItems(tok).then(function (data) {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          setItems(data);\n        }\n      });\n      getUrgentItems(tok).then(function (data) {\n        if (data.error) {\n          console.log(data.error);\n        } else {\n          setUrgentItems(data);\n        }\n      });\n    });\n  };\n\n  var showItems = function showItems() {\n    if (sortUrgent) {\n      return urgentItems.map(function (item) {\n        return __jsx(\"article\", {\n          key: 'urgent ' + item._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 21\n          }\n        }, __jsx(ItemCard, {\n          item: item,\n          updateParent: updateItemsState,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }\n        }));\n      });\n    } else if (sortSearched) {\n      return searchedItems.map(function (item) {\n        return __jsx(\"article\", {\n          key: 'search ' + item._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 21\n          }\n        }, __jsx(ItemCard, {\n          item: item,\n          updateParent: updateItemsState,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 25\n          }\n        }));\n      });\n    } else {\n      return items.map(function (item) {\n        return __jsx(\"article\", {\n          key: item._id,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }\n        }, __jsx(ItemCard, {\n          item: item,\n          updateParent: updateItemsState,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 25\n          }\n        }));\n      });\n    }\n  };\n\n  var handleUrgentToggle = function handleUrgentToggle() {\n    setSortUrgent(document.getElementById(\"sort-urgent\").checked);\n  };\n\n  var toggleSearchSort = function toggleSearchSort(returnedItems, status) {\n    setSearchedItems(_toConsumableArray(returnedItems));\n    setSortSearched(status);\n  };\n\n  var updateItemsState = function updateItemsState(item, update) {\n    var i = items.indexOf(item);\n    var j = urgentItems.indexOf(item);\n\n    if (update === 'remove') {\n      setItems(items.filter(function (current, index) {\n        if (current.name === item.name) {\n          console.log('items');\n          return false;\n        } else {\n          return true;\n        }\n      }));\n\n      if (item.urgent) {\n        setUrgentItems(urgentItems.filter(function (current, index) {\n          if (current.name === item.name) {\n            return false;\n          } else {\n            return true;\n          }\n        }));\n      }\n\n      if (searchedItems) {\n        setSearchedItems(searchedItems.filter(function (current, index) {\n          if (current.name === item.name) {\n            return false;\n          } else {\n            return true;\n          }\n        }));\n      }\n    } else if (update === 'urgent') {\n      items[i].urgent = !items[i].urgent;\n      item.urgent = items[i].urgent;\n\n      if (j === -1) {\n        urgentItems.push(item);\n      } else {\n        setUrgentItems(urgentItems.filter(function (current, index) {\n          if (index === j) {\n            return false;\n          } else {\n            return true;\n          }\n        }));\n      }\n    }\n  };\n\n  return __jsx(\"div\", {\n    className: \"main\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"main__title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, \"Shopping List\")), __jsx(\"div\", {\n    className: \"row main__filters\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"main__filters__search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, __jsx(Search, {\n    updateParent: toggleSearchSort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"ml-3 pt-2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 25\n    }\n  }, __jsx(\"label\", {\n    style: {\n      display: \"flex\",\n      placeContent: 'center',\n      placeItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }, __jsx(Checkbox, {\n    id: \"sort-urgent\",\n    onChange: handleUrgentToggle,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 33\n    }\n  }), __jsx(\"span\", {\n    className: \"pl-1 pb-1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 33\n    }\n  }, \"Sort Urgent\")))))), __jsx(\"hr\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    className: \"main__body\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, showItems()));\n};\n\n_s(Main, \"V/2w72AwezPvQoAuydqeHo9dhdE=\");\n\n_c = Main;\nexport default Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"sources":["C:/Users/malac/OneDrive/שולחן העבודה/My Stuff/Programming/My Projects/shopping-list/frontend/components/Main.js"],"names":["getItems","getUrgentItems","ItemCard","getCookie","useState","useEffect","Search","item","Checkbox","eventHub","Main","token","setToken","items","setItems","urgentItems","setUrgentItems","searchedItems","setSearchedItems","sortUrgent","setSortUrgent","sortSearched","setSortSearched","firstTime","initItems","on","then","tok","data","error","console","log","showItems","map","_id","updateItemsState","handleUrgentToggle","document","getElementById","checked","toggleSearchSort","returnedItems","status","update","i","indexOf","j","filter","current","index","name","urgent","push","display","placeContent","placeItems"],"mappings":"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","sourcesContent":["import { getItems, getUrgentItems } from '../actions/item';\r\nimport ItemCard from '../components/item/ItemCard';\r\nimport { getCookie } from '../actions/auth';\r\nimport { useState, useEffect } from 'react';\r\nimport Search from './item/Search';\r\nimport item from '../../backend/models/item';\r\nimport Checkbox from 'rc-checkbox';\r\nimport eventHub from '../helpers/eventHub';\r\n\r\nconst Main = () => {\r\n\r\n    const [token, setToken] = useState('');\r\n    const [items, setItems] = useState([]);\r\n    const [urgentItems, setUrgentItems] = useState([]);\r\n    const [searchedItems, setSearchedItems] = useState([]);\r\n    const [sortUrgent, setSortUrgent] = useState(false);\r\n    const [sortSearched, setSortSearched] = useState(false);\r\n\r\n    let firstTime = true;\r\n    useEffect(() => {\r\n        initItems();\r\n        if (firstTime) {\r\n            eventHub.on('itemAdded', () => {\r\n                initItems();\r\n            });\r\n            firstTime = false;\r\n        }\r\n    }, []);\r\n\r\n    \r\n\r\n    const initItems = () => {\r\n        getCookie('token').then(tok => {\r\n            setToken(tok);\r\n            getItems(tok).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error);\r\n                } else {\r\n                    setItems(data);\r\n                }\r\n            });\r\n            getUrgentItems(tok).then(data => {\r\n                if(data.error) {\r\n                    console.log(data.error)\r\n                } else {\r\n                    setUrgentItems(data);\r\n                }\r\n            });\r\n        })\r\n    };\r\n\r\n\r\n    const showItems = () => {\r\n        if(sortUrgent) {\r\n            return urgentItems.map((item) => {\r\n                return (\r\n                    <article key={'urgent ' + item._id}>\r\n                        <ItemCard item={item} updateParent={updateItemsState}/>\r\n                    </article>\r\n                );\r\n            });\r\n        } else if (sortSearched) {\r\n            return searchedItems.map((item) => {\r\n                return (\r\n                    <article key={'search ' +item._id}>\r\n                        <ItemCard item={item} updateParent={updateItemsState}/>\r\n                    </article>\r\n                );\r\n            });\r\n        } else {\r\n            return items.map((item) => {\r\n                return (\r\n                    <article key={item._id}>\r\n                        <ItemCard item={item} updateParent={updateItemsState}/>\r\n                    </article>\r\n                );\r\n            });\r\n        }\r\n    };\r\n\r\n    const handleUrgentToggle = () => {\r\n        setSortUrgent(document.getElementById(\"sort-urgent\").checked);\r\n    };\r\n\r\n    const toggleSearchSort = (returnedItems, status) => {\r\n        setSearchedItems([...returnedItems]);\r\n        setSortSearched(status);\r\n    };\r\n\r\n    const updateItemsState = (item, update) => {\r\n        const i = items.indexOf(item);\r\n        const j = urgentItems.indexOf(item);\r\n\r\n        if (update === 'remove') {\r\n            setItems(items.filter((current, index) => {\r\n                if (current.name === item.name) {\r\n                    console.log('items')\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }));\r\n            if(item.urgent) {\r\n                setUrgentItems(urgentItems.filter((current, index) => {\r\n                    if (current.name === item.name) {\r\n                        return false;\r\n                    } else {\r\n                        return true;\r\n                    }\r\n                }));\r\n            }\r\n            if (searchedItems) {\r\n                setSearchedItems(searchedItems.filter((current, index) => {\r\n                    if (current.name === item.name) {\r\n                        return false;\r\n                    } else {\r\n                        return true;\r\n                    }\r\n                }));\r\n            }\r\n        } else if (update === 'urgent') {\r\n            items[i].urgent = !items[i].urgent;\r\n            item.urgent =  items[i].urgent\r\n            if (j === -1) {\r\n                urgentItems.push(item)\r\n            } else {\r\n                setUrgentItems(urgentItems.filter((current, index) => {\r\n                    if(index === j) {\r\n                        return false;\r\n                    } else {\r\n                        return true;\r\n                    }\r\n                }));\r\n            }\r\n        } \r\n    };\r\n\r\n    \r\n\r\n    return (\r\n        <div className='main'>\r\n            <div className='main__title'>\r\n                <div>\r\n                    <div className='text-center'>\r\n                        <h2>Shopping List</h2>\r\n                    </div>\r\n                    <div className='row main__filters'>\r\n                        <div className='main__filters__search'>\r\n                            <Search updateParent={toggleSearchSort}/>\r\n                        </div>\r\n                        <div className='ml-3 pt-2'>\r\n                            <label style={{display: \"flex\", placeContent: 'center', placeItems: 'center'}}>\r\n                                <Checkbox id='sort-urgent' onChange={handleUrgentToggle}/>\r\n                                <span className='pl-1 pb-1'>Sort Urgent</span>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <hr />\r\n            <div className='main__body'>\r\n                {showItems()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}